//! This code was AUTOGENERATED using the Codama library.

use super::OnchainLabsDexV2Account;

pub struct OnchainLabsDexV2AccountsMigration;

impl sqlx_migrator::Migration<sqlx::Postgres> for OnchainLabsDexV2AccountsMigration {
    fn app(&self) -> &str {
        "onchain-labs-dex-v2"
    }

    fn name(&self) -> &str {
        "onchain_labs_dex_v2_accounts"
    }

    fn operations(&self) -> Vec<Box<dyn sqlx_migrator::Operation<sqlx::Postgres>>> {
        vec![]
    }

    fn parents(&self) -> Vec<Box<dyn sqlx_migrator::Migration<sqlx::Postgres>>> {
        vec![]
    }
}

pub struct OnchainLabsDexV2AccountWithMetadata(
    pub OnchainLabsDexV2Account,
    pub carbon_core::account::AccountMetadata,
);

impl
    From<(
        OnchainLabsDexV2Account,
        carbon_core::account::AccountMetadata,
    )> for OnchainLabsDexV2AccountWithMetadata
{
    fn from(
        value: (
            OnchainLabsDexV2Account,
            carbon_core::account::AccountMetadata,
        ),
    ) -> Self {
        OnchainLabsDexV2AccountWithMetadata(value.0, value.1)
    }
}

#[async_trait::async_trait]
impl carbon_core::postgres::operations::Insert for OnchainLabsDexV2AccountWithMetadata {
    async fn insert(&self, _pool: &sqlx::PgPool) -> carbon_core::error::CarbonResult<()> {
        unreachable!("No accounts to decode")
    }
}

#[async_trait::async_trait]
impl carbon_core::postgres::operations::Upsert for OnchainLabsDexV2AccountWithMetadata {
    async fn upsert(&self, _pool: &sqlx::PgPool) -> carbon_core::error::CarbonResult<()> {
        unreachable!("No accounts to decode")
    }
}
