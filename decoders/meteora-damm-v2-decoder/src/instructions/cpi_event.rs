//! This code was AUTOGENERATED using the Codama library.

pub use super::super::events;
use carbon_core::{borsh, deserialize::ArrangeAccounts};

#[cfg_attr(feature = "serde", derive(serde::Serialize, serde::Deserialize))]
#[derive(
    Debug,
    Clone,
    carbon_core::borsh::BorshSerialize,
    carbon_core::borsh::BorshDeserialize,
    PartialEq,
)]
pub enum CpiEvent {
    EvtClaimPartnerFee(events::evt_claim_partner_fee::EvtClaimPartnerFeeEvent),
    EvtClaimPositionFee(events::evt_claim_position_fee::EvtClaimPositionFeeEvent),
    EvtClaimProtocolFee(events::evt_claim_protocol_fee::EvtClaimProtocolFeeEvent),
    EvtClaimReward(events::evt_claim_reward::EvtClaimRewardEvent),
    EvtCloseConfig(events::evt_close_config::EvtCloseConfigEvent),
    EvtClosePosition(events::evt_close_position::EvtClosePositionEvent),
    EvtCreateConfig(events::evt_create_config::EvtCreateConfigEvent),
    EvtCreateDynamicConfig(events::evt_create_dynamic_config::EvtCreateDynamicConfigEvent),
    EvtCreatePosition(events::evt_create_position::EvtCreatePositionEvent),
    EvtCreateTokenBadge(events::evt_create_token_badge::EvtCreateTokenBadgeEvent),
    EvtFundReward(events::evt_fund_reward::EvtFundRewardEvent),
    EvtInitializePool(events::evt_initialize_pool::EvtInitializePoolEvent),
    EvtInitializeReward(events::evt_initialize_reward::EvtInitializeRewardEvent),
    EvtLiquidityChange(events::evt_liquidity_change::EvtLiquidityChangeEvent),
    EvtLockPosition(events::evt_lock_position::EvtLockPositionEvent),
    EvtPermanentLockPosition(events::evt_permanent_lock_position::EvtPermanentLockPositionEvent),
    EvtSetPoolStatus(events::evt_set_pool_status::EvtSetPoolStatusEvent),
    EvtSplitPosition2(events::evt_split_position2::EvtSplitPosition2Event),
    EvtSwap2(events::evt_swap2::EvtSwap2Event),
    EvtUpdatePoolFees(events::evt_update_pool_fees::EvtUpdatePoolFeesEvent),
    EvtUpdateRewardDuration(events::evt_update_reward_duration::EvtUpdateRewardDurationEvent),
    EvtUpdateRewardFunder(events::evt_update_reward_funder::EvtUpdateRewardFunderEvent),
    EvtWithdrawIneligibleReward(
        events::evt_withdraw_ineligible_reward::EvtWithdrawIneligibleRewardEvent,
    ),
}

#[derive(Debug, Clone, PartialEq)]
#[cfg_attr(feature = "serde", derive(serde::Serialize, serde::Deserialize))]
pub struct CpiEventInstructionAccounts {
    pub program: solana_pubkey::Pubkey,
    pub event_authority: solana_pubkey::Pubkey,
    pub remaining: Vec<solana_instruction::AccountMeta>,
}

impl CpiEvent {
    pub fn decode(data: &[u8]) -> Option<Self> {
        if data.len() < 8 {
            return None;
        }
        let discriminator = &data[0..8];
        if discriminator != [228, 69, 165, 46, 81, 203, 154, 29] {
            return None;
        }

        let event_data = &data[8..];

        if let Some(decoded) =
            events::evt_claim_partner_fee::EvtClaimPartnerFeeEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtClaimPartnerFee(decoded));
        }
        if let Some(decoded) =
            events::evt_claim_position_fee::EvtClaimPositionFeeEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtClaimPositionFee(decoded));
        }
        if let Some(decoded) =
            events::evt_claim_protocol_fee::EvtClaimProtocolFeeEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtClaimProtocolFee(decoded));
        }
        if let Some(decoded) = events::evt_claim_reward::EvtClaimRewardEvent::decode(event_data) {
            return Some(CpiEvent::EvtClaimReward(decoded));
        }
        if let Some(decoded) = events::evt_close_config::EvtCloseConfigEvent::decode(event_data) {
            return Some(CpiEvent::EvtCloseConfig(decoded));
        }
        if let Some(decoded) = events::evt_close_position::EvtClosePositionEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtClosePosition(decoded));
        }
        if let Some(decoded) = events::evt_create_config::EvtCreateConfigEvent::decode(event_data) {
            return Some(CpiEvent::EvtCreateConfig(decoded));
        }
        if let Some(decoded) =
            events::evt_create_dynamic_config::EvtCreateDynamicConfigEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtCreateDynamicConfig(decoded));
        }
        if let Some(decoded) =
            events::evt_create_position::EvtCreatePositionEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtCreatePosition(decoded));
        }
        if let Some(decoded) =
            events::evt_create_token_badge::EvtCreateTokenBadgeEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtCreateTokenBadge(decoded));
        }
        if let Some(decoded) = events::evt_fund_reward::EvtFundRewardEvent::decode(event_data) {
            return Some(CpiEvent::EvtFundReward(decoded));
        }
        if let Some(decoded) =
            events::evt_initialize_pool::EvtInitializePoolEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtInitializePool(decoded));
        }
        if let Some(decoded) =
            events::evt_initialize_reward::EvtInitializeRewardEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtInitializeReward(decoded));
        }
        if let Some(decoded) =
            events::evt_liquidity_change::EvtLiquidityChangeEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtLiquidityChange(decoded));
        }
        if let Some(decoded) = events::evt_lock_position::EvtLockPositionEvent::decode(event_data) {
            return Some(CpiEvent::EvtLockPosition(decoded));
        }
        if let Some(decoded) =
            events::evt_permanent_lock_position::EvtPermanentLockPositionEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtPermanentLockPosition(decoded));
        }
        if let Some(decoded) =
            events::evt_set_pool_status::EvtSetPoolStatusEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtSetPoolStatus(decoded));
        }
        if let Some(decoded) =
            events::evt_split_position2::EvtSplitPosition2Event::decode(event_data)
        {
            return Some(CpiEvent::EvtSplitPosition2(decoded));
        }
        if let Some(decoded) = events::evt_swap2::EvtSwap2Event::decode(event_data) {
            return Some(CpiEvent::EvtSwap2(decoded));
        }
        if let Some(decoded) =
            events::evt_update_pool_fees::EvtUpdatePoolFeesEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtUpdatePoolFees(decoded));
        }
        if let Some(decoded) =
            events::evt_update_reward_duration::EvtUpdateRewardDurationEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtUpdateRewardDuration(decoded));
        }
        if let Some(decoded) =
            events::evt_update_reward_funder::EvtUpdateRewardFunderEvent::decode(event_data)
        {
            return Some(CpiEvent::EvtUpdateRewardFunder(decoded));
        }
        if let Some(decoded) =
            events::evt_withdraw_ineligible_reward::EvtWithdrawIneligibleRewardEvent::decode(
                event_data,
            )
        {
            return Some(CpiEvent::EvtWithdrawIneligibleReward(decoded));
        }
        None
    }
}

impl ArrangeAccounts for CpiEvent {
    type ArrangedAccounts = CpiEventInstructionAccounts;

    fn arrange_accounts(
        accounts: &[solana_instruction::AccountMeta],
    ) -> Option<Self::ArrangedAccounts> {
        let [program, event_authority, remaining @ ..] = accounts else {
            return None;
        };

        Some(CpiEventInstructionAccounts {
            program: program.pubkey,
            event_authority: event_authority.pubkey,
            remaining: remaining.to_vec(),
        })
    }
}
