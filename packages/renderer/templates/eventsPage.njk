{% extends "layout.njk" %}
{% import "macros.njk" as macros %}

{% block main %}
{{ imports }}

{{ macros.coreDecoderDerives() }}
pub struct {{ event.name | pascalCase }}Event {{ typeManifest.type }}

impl {{ event.name | pascalCase }}Event {
    pub fn decode(data: &[u8]) -> Option<Self> {
{% if discriminatorManifest -%}
{{ discriminatorManifest.checkCode | safe }}
{% endif %}

        let mut data_slice = data;

{% if discriminatorManifest %}
        data_slice = &data_slice[{{ discriminatorManifest.size }}..];
{% endif %}

        borsh::BorshDeserialize::deserialize(&mut data_slice).ok()
    }
}
{% endblock %}
