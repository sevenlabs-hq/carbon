{% extends "layout.njk" %}
{% import "macros.njk" as macros %}

{% block main %}
{{ imports }}

{% if account.docs and account.docs.length > 0 %}
{{ macros.docblock(account.docs) }}
{% endif %}
{{ macros.coreDecoderDerives() }}
pub struct {{ account.name | pascalCase }} {{ typeManifest.type }}

impl {{ account.name | pascalCase }} {
    pub fn decode(data: &[u8]) -> Option<Self> {
{% if discriminatorManifest -%}
{{ discriminatorManifest.checkCode | safe }}
{% endif %}

        let mut data_slice = data;

{% if discriminatorManifest %}
        data_slice = &data_slice[{{ discriminatorManifest.size }}..];
{% endif %}

        borsh::BorshDeserialize::deserialize(&mut data_slice).ok()
    }
}
{% endblock %}
