{% extends "layout.njk" %}
{% import "macros.njk" as macros %}

{% block main %}
{{ imports }}
{{ macros.docblock(account.docs) }}
#[cfg_attr(feature = "serde", derive(serde::Serialize, serde::Deserialize))]
#[derive(Debug, Clone, borsh::BorshSerialize, CarbonDeserialize, PartialEq)]
pub struct {{ account.name | pascalCase }} {{ typeManifest.type }}

impl {{ account.name | pascalCase }} {
    pub fn decode(data: &[u8]) -> Option<Self> {
{% if discriminatorManifest -%}
{{ discriminatorManifest.checkCode | safe }}
{% endif %}

        let data_slice = data;

{% if discriminatorManifest %}
        let data_slice = &data_slice[{{ discriminatorManifest.size }}..];
{% endif %}

        <Self as carbon_core::deserialize::CarbonDeserialize>::deserialize(data_slice)
    }
}
{% endblock %}
