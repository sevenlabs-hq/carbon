{% extends "layout.njk" %}
{% import "macros.njk" as macros %}

{% block main %}
{{ imports }}
{{ macros.docblock(account.docs) }}
{{ macros.coreDecoderDerives() }}
pub struct {{ account.name | pascalCase }} {{ typeManifest.type }}

impl {{ account.name | pascalCase }} {
    pub fn decode(data: &[u8]) -> Option<Self> {
{% if discriminatorManifest -%}
{{ discriminatorManifest.checkCode | safe }}
{% endif %}

        let data_slice = data;

{% if discriminatorManifest %}
        let data_slice = &data_slice[{{ discriminatorManifest.size }}..];
{% endif %}

        Self::deserialize(data_slice)
    }
}
{% endblock %}
