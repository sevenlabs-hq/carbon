{% extends "layout.njk" %}
{% import "macros.njk" as macros %}

{% block main %}
{{ imports }}
{{ macros.graphqlObjectDerives() }}
#[graphql(name = "{{ entityName | pascalCase }}")]
pub struct {{ entityName | pascalCase }}GraphQL {
{% for field in graphqlFields %}
    pub {{ field.fieldName }}: {{ field.rustType }},
{% endfor %}
}

impl From<crate::types::{{ entityName | pascalCase }}> for {{ entityName | pascalCase }}GraphQL {
    fn from(original: crate::types::{{ entityName | pascalCase }}) -> Self {
        Self {
{% for field in graphqlFields %}
            {{ field.fieldName }}: {{ field.fromOriginalExpr }},
{% endfor %}
        }
    }
}
{% endblock %}